--echo #
--echo # Testing analyze table behaviour 
--echo #

CREATE TABLE Table1 (
 PetID int unsigned NOT NULL,
 PetName varchar(20),
 LastName varchar(20),
 FirstName varchar(20),
 PetAge int unsigned,
 NumOfPuppies int unsigned,
 PRIMARY KEY (PetID)
);

INSERT INTO Table1 (PetID, PetName, LastName, FirstName, PetAge, NumOfPuppies)
VALUES
(1, "Flufy", "Yates", "Maria", 5, 2),
(2, "Buttons", "David", "Jones", 3, 0),
(3, "Paws", "Johanson", "Samuel", 6, 2),
(4, "Paws", "Johanson", "Samuel", 5, 2),
(5, "Paws", "Johanson", "Samuel", 7, 2),
(6, "Paws", "Johanson", "Samuel", 8, 2),
(7, "Paws", "Johanson", "Samuel", 3, 2),
(8, "Paws", "Johanson", "Samuel", 5, 2),
(9, "Paws", "Johanson", "Samuel", 4, 2);

set histogram_size=10;
ANALYZE TABLE Table1 PERSISTENT FOR ALL;
select min_value, max_value, hist_type, hex(histogram), decode_histogram(hist_type, histogram)
from mysql.column_stats where table_name='Table1' and column_name='PetID';

DROP TABLE Table1;
